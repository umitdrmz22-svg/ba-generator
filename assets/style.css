
/* Design-Tokens */
:root{
  --theme:#005AA3;          /* Maschine: Blau */
  --ink:#111; --line:#d0d7de; --muted:#666;
  --bg-page:#e6f0ff; --surface:#fff; --surface-2:#f7f9fc;
  --radius:12px;

  --psa:#FFC400;            /* PSA: Gelb */
  --psa-bg:#FFF6D5;

  --gs-red:#E53935;         /* Gefahrstoff */
  --gs-bg:#FFEBEE;

  --bio-green:#2E7D32;      /* Biostoff */
  --bio-bg:#EAF5EA;
}

/* Themen */
.theme-Maschine { --theme:#005AA3; --bg-page:#e6f0ff; }
.theme-Gefahrstoff { --theme:var(--gs-red); --bg-page:var(--gs-bg); }
.theme-Biostoff { --theme:var(--bio-green); --bg-page:var(--bio-bg); }
.theme-PSA { --theme:var(--psa); --bg-page:var(--psa-bg); } /* GELB */

html, body { height:100%; }
body.page{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  margin:0; background:var(--bg-page); color:var(--ink);
  transition: background .2s ease, color .2s ease;
}

.wrapper { max-width:1240px; margin:0 auto; padding:12px; }
.box{
  background:var(--surface); border:1px solid var(--line); border-radius:var(--radius);
  padding:12px; margin:10px 0; box-shadow:0 8px 24px rgba(0,0,0,.06);
}
.box-compact{ padding:10px; margin:8px 0; }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.row-compact{ gap:8px; }
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.grid3{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }

/* Kopfband */
.hero{
  background:linear-gradient(90deg, var(--theme), #0b1e3a);
  color:#fff; padding:16px; margin:0; text-transform:uppercase;
  box-shadow:0 12px 28px rgba(0,0,0,.14);
}
.hero h1{ margin:0; font-size:22px; letter-spacing:.6px; text-align:center; }

/* Kleines */
.muted{ font-size:12px; color:var(--muted); }
.logo-preview{
  min-height:48px; border:1px dashed #cbd5e1; border-radius:10px; margin-top:6px;
  display:flex; align-items:center; justify-content:center;
}

/* Buttons */
.btn-primary{
  background:var(--theme); color:#fff; border:0; border-radius:10px;
  padding:10px 14px; cursor:pointer; font-weight:800; letter-spacing:.2px;
}
.btn-primary:hover{ filter:brightness(1.05); }
.btn-compact{ padding:8px 12px; font-weight:700; }

/* Abschnittsb√§nder */
.ba-band{
  background:var(--theme); color:#fff; border-radius:10px; padding:10px; margin:12px 0 8px;
  font-weight:900; letter-spacing:.4px; text-transform:uppercase; text-align:center;
}

/* Layout */
.layout{ display:grid; grid-template-columns:360px 1fr; gap:14px; align-items:start; }
.side{ position:sticky; top:10px; }

/* Assignbar sticky ve kompakt */
.assignbar{ display:flex; gap:6px; flex-wrap:wrap; margin:8px 0; }
.assignbar-sticky{ position:sticky; top:0; background:var(--surface); padding:6px; z-index:10; border-radius:10px; }
.assignbar .target{
  border:1px dashed #cbd5e1; border-radius:10px; padding:6px 10px; cursor:pointer; background:#f7fafc; font-weight:700;
}
.assignbar .target:hover{ background:#eef2ff; }
.assignbar .auto{ margin-left:auto; display:flex; gap:6px; align-items:center; }

/* Filter & Liste kompakt */
.filterbar{ display:flex; flex-direction:column; gap:6px; margin:8px 0; }
.filter-compact input[type="search"]{
  width:100%; padding:8px 10px; border-radius:10px; border:1px solid var(--line); outline:none;
}
.filterbar .chips{ display:flex; gap:8px; flex-wrap:wrap; font-size:12px; color:#333; }

.piclist{ display:grid; grid-template-columns:1fr; gap:8px; max-height:62vh; overflow:auto; }
.piclist-compact{ max-height:56vh; }
.picrow{
  display:flex; gap:10px; align-items:center; border:1px solid #e2e8f0; border-radius:10px; background:#fff; padding:6px; cursor:pointer;
}
.picrow.selected{ outline:2px solid var(--theme); }
.picrow img{
  width:44px; height:44px; object-fit:contain; border-radius:6px; background:#fff;
  content-visibility:auto;
}
.picrow .code{ font-size:12px; font-weight:800; color:#333; flex:1; }

/* Abschnitte */
.section-icons{ display:flex; gap:6px; flex-wrap:wrap; margin-bottom:6px; justify-content:center; }
.section-icons img{ width:40px; height:40px; object-fit:contain; }
.list{ border:1px solid #ddd; border-radius:10px; padding:10px; background:#f9fafb; min-height:80px; }
.list-compact{ padding:8px; min-height:64px; }
.small{ font-size:12px; color:#555; }
#fontHint{ color:#b40000; font-weight:bold; display:none; margin-top:6px; }

/* Freitext */
.ft-row{ display:flex; gap:8px; align-items:center; margin:8px 0; }
.ft-compact input{ flex:1; padding:8px 10px; border-radius:10px; border:1px solid var(--line); }
.sug{ margin:6px 0; display:grid; gap:6px; }
.sug-compact .btn-primary{ padding:6px 8px; }

/* Modal */
.modal[hidden]{ display:none; }
.modal{
  position:fixed; inset:0; background:rgba(12,18,28,.32); backdrop-filter: blur(4px);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}
.modal-inner{
  width:min(920px, 92vw); max-height:80vh; overflow:auto; background:var(--surface);
  border:1px solid var(--line); border-radius:14px; box-shadow:0 16px 40px rgba(0,0,0,.22);
}
.modal-head{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border-bottom:1px solid var(--line); }
.modal-body{ padding:10px 12px; }
.picgrid{ display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; }
.piccard{ border:1px solid #e2e8f0; border-radius:10px; padding:6px; background:#fff; cursor:pointer; display:grid; gap:6px; justify-items:center; }
.piccard img{ width:64px; height:64px; object-fit:contain; }

/* Druck */
@media print{
  *{ -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  @page{ size: A4; margin: 10mm; }
  .hero, .ba-band{ break-inside: avoid; }
  .side{ position:static; }
}
